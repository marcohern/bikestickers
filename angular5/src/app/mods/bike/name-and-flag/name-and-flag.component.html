<proride-cover asset="cover1"></proride-cover>
<proride-breadcrumbs [level]="0"></proride-breadcrumbs>
<form [formGroup]="nameFlagFormGroup" (ngSubmit)="next()" novalidate >
  <div class="container">

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 405 100" enable-background="new 0 0 405 100" >
      <defs>
        <mask id="flag-clip">
          <circle r="38" cy="50" cx="52" fill="#ffffff"/>
        </mask>
      </defs>
      <circle id="bg-left" r="48" cy="50" cx="50" stroke-width="0" fill="#1f140f"/>
      <circle id="bg-right" r="48" cy="50" cx="355" stroke-width="0" fill="#1f140f"/>
      <rect id="bg-center" x="50" y="2" width="305" height="96" stroke-width="0" fill="#1f140f"/>
      <g>
        <text fill="#ffffff" font-style="italic" x="140" y="64" font-size="38" transform="scale(0.7, 1.0)">
          <tspan>{{stickerFirstName(order.sticker)}}</tspan>
          <tspan font-weight="bold">{{stickerLastName(order.sticker)}}</tspan>
        </text>
      </g>
      <g mask="url(#flag-clip)">
        <image [attr.xlink:href]="flagPath(order.sticker.flag)" [attr.x]="flagX(order.sticker.flag)" y="12" height="76"/>
      </g>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 405 100" enable-background="new 0 0 405 100" >
      <defs>
        <mask id="flag-clip2" fill="white">
          <circle r="34" cy="50" cx="52" stroke-width="0" fill="#ffffff"/>
          <rect x="50" y="16" width="68" rx="4" ry="4" height="68" fill="#ffffff"/>
        </mask>
      </defs>
      <circle id="bg-left" r="40" cy="50" cx="50" stroke-width="0" fill="#1f140f"/>
      <circle id="bg-right" r="40" cy="50" cx="355" stroke-width="0" fill="#1f140f"/>
      <rect id="bg-center" x="50" y="10" width="305" height="80" stroke-width="0" fill="#1f140f"/>
      <g>
        <text fill="#ffffff" font-style="italic" x="175" y="64" font-size="38" transform="scale(0.7, 1.0)">
          <tspan>{{stickerFirstName(order.sticker)}}</tspan>
          <tspan font-weight="bold">{{stickerLastName(order.sticker)}}</tspan>
        </text>
      </g>
      <g mask="url(#flag-clip2)">
        <image [attr.href]="flagPath(order.sticker.flag)" [attr.x]="flagX(order.sticker.flag)" y="12" height="76"/>
        
      </g>
    </svg>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 405 100" enable-background="new 0 0 405 100" >
      <defs>
        <mask id="flag-clip3" fill="white">
            <rect x="28" y="6" width="78" height="78" stroke-width="0" fill="#ffffff" rx="4" ry="4" transform="skewX(-15)"/>
        </mask>
      </defs>
      <rect id="bg-center" x="25" y="15" width="380" height="60" stroke-width="0" fill="#1f140f" rx="8" ry="8" transform="skewX(-15)"/>
      <rect id="bg-flag" x="22" y="0" width="90" height="90" stroke-width="0" fill="#1f140f" rx="8" ry="8" transform="skewX(-15)"/>
      <g>
        <text fill="#ffffff" font-style="italic" x="150" y="58" font-size="38" transform="scale(0.7, 1.0)">
          <tspan>{{stickerFirstName(order.sticker)}}</tspan>
          <tspan font-weight="bold">{{stickerLastName(order.sticker)}}</tspan>
        </text>
      </g>
      <g mask="url(#flag-clip3)">
        <image [attr.href]="flagPath(order.sticker.flag)" [attr.x]="flagX(order.sticker.flag)+13" y="6" height="78" transform="skewX(-15)"/>
      </g>
    </svg>
    <h2>Pa√≠s y Nombre</h2>
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <div class="input-group mb-2">
            <div class="input-group-prepend">
              <button type="button" class="btn" (click)="modal(flagPicker,svgflag)">
                  <img [alt]="flagName(order.sticker.flag)" [src]="flagPath(order.sticker.flag)" height="64" />
              </button>
            </div>
            <input type="text" class="form-control form-control-lg" placeholder="&lt;-- Seleccionar Bandera" formControlName="flag" readonly required>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
          <div class="form-group">
            <div class="input-group">
                <input type="text" class="form-control form-control-lg" placeholder="Nombre" aria-label="Nombre" formControlName="fname" required (change)="onChangeName()">
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <div class="input-group">
              <input type="text" class="form-control form-control-lg" placeholder="Apellido" aria-label="Apellido" formControlName="lname" required (change)="onChangeName()">
            </div>
          </div>
        </div>
    </div>
    <div class="row">
      <div class="col-md-12 text-center">
          <button type="submit" class="btn btn-outline-dark btn-lg">Siguiente</button>
      </div>
    </div>
  </div>
</form>
<ng-template #flagPicker let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title text-dark">Modal title</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-dark">
    <input type="text" class="form-control form-control-lg" placeholder="Nombre de la bandera" aria-label="Buscar Bandera" #searchFlag (keyup)="filterFlags($event,searchFlag.value)">
    <br>
    <div class="row">
      <div class="col-6 col-md-4 col-lg-3" *ngFor="let flag of flags">
        <div class="card" (click)="c(flag)">
          <img class="card-img-top" [src]="flagPath(flag)" [alt]="flag.name">
          <div class="card-body">
            <h5 class="card-text" style="font-size: 1em">{{flag.name}}</h5>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">Close</button>
  </div>
</ng-template>